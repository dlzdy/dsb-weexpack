// { "framework": "Weex"} 

!function(t){function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}var e={};i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=619)}({250:function(t,i){t.exports={btn:{margin:2,backgroundColor:"#e74c3c",color:"#ffffff",textAlign:"center",flex:1,fontSize:66,height:80},normal:{backgroundColor:"#95a5a6"},open:{backgroundColor:"#34495e",color:"#ffffff"},flag:{backgroundColor:"#95a5a6"},tile:{margin:2,fontSize:56,height:80,paddingTop:0,textAlign:"center"}}},319:function(t,i){t.exports={type:"container",children:[{type:"text",classList:["btn"],attr:{value:function(){return this.board}}},{type:"container",repeat:function(){return this.row},style:{flexDirection:"row",flex:1},children:[{type:"container",repeat:function(){return this.col},style:{flex:1},children:[{type:"text",attr:{tid:function(){return this.tid},around:function(){return this.around},value:function(){return this.text}},events:{click:"onclick",longpress:"onlongpress"},classList:function(){return[this.state,"tile"]}}]}]},{type:"text",events:{click:"restart"},classList:["btn"],attr:{value:"START"}}]}},393:function(t,i){t.exports=function(t,i,e){"use strict";t.exports={data:function(){return{size:9,max:10,board:0,row:[],vector:[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],strings:{mine:"ðŸ’£",flag:"ðŸš©",win:"YOU WIN!",lose:"YOU LOSE~"},finished:!1}},methods:{map:function(t,i,e){for(var n=0;n<8;++n){var r=t+this.vector[n][0],o=i+this.vector[n][1];r>=0&&o>=0&&r<this.size&&o<this.size&&e(this.row[r].col[o])}},dfs:function(t){var i=this.position(t.tid),e=this;t.state="open",this.map(i.x,i.y,function(t){0==t.around&&"normal"==t.state?e.dfs(t):e.display(t)})},random:function(t,i){return parseInt(Math.random()*(i-t)+t)},plant:function(){for(var t=0;t<this.max;){var i=this.random(0,this.size),e=this.random(0,this.size),n=this.row[i].col[e];0==n.value&&(++t,n.value=1)}},calculate:function(){for(var t=0;t<this.size;++t)for(var i=0;i<this.size;++i){var e=0;this.map(t,i,function(t){e+=t.value}),this.row[t].col[i].around=e}},restart:function(t){var i=[];this.board=this.max,this.finished=!1;for(var e=0;e<this.size;++e){for(var n={col:[]},r=0;r<this.size;++r){var o=e*this.size+r;n.col[r]={tid:""+o,state:"normal",value:0,text:"",around:0}}i[e]=n}this.row=i,this.plant(),this.calculate()},unfinished:function(){var t=this.finished;return this.finished&&this.restart(),!t},position:function(t){return{x:parseInt(t/this.size),y:t%this.size}},display:function(t){t.state="open",t.text=0==t.around?"":t.around},tile:function(t){var i=t.target.attr.tid,e=this.position(i);return this.row[e.x].col[e.y]},onclick:function(t){if(this.unfinished()){var i=this.tile(t);"normal"==i.state&&(1==i.value?this.onfail():(this.display(i),0==i.around&&this.dfs(i),this.judge()))}},onlongpress:function(t){if(this.unfinished()){var i=this.tile(t);i.state="flag"==i.state?"normal":"flag","flag"==i.state?(--this.board,i.text=this.strings.flag):(++this.board,i.text=""),this.judge()}},foreach:function(t){for(var i=0;i<this.size;++i)for(var e=0;e<this.size;++e)t(this.row[i].col[e])},judge:function(){var t=0;this.foreach(function(i){"open"!=i.state&&"flag"!=i.state||++t}),t==this.size*this.size&&(this.finished=!0,this.board=this.strings.win)},onfail:function(){this.board=this.strings.lose,this.finished=!0;var t=this.strings.mine;this.foreach(function(i){1==i.value&&(i.text=t)})}}}}},619:function(t,i,e){var n=e(319),r=e(250),o=e(393);__weex_define__("@weex-component/72bbae0aaf6534830e937363e21b56c8",[],function(t,i,e){o(e,i,t),i.__esModule&&i.default&&(e.exports=i.default),e.exports.template=n,e.exports.style=r}),__weex_bootstrap__("@weex-component/72bbae0aaf6534830e937363e21b56c8",void 0,void 0)}});