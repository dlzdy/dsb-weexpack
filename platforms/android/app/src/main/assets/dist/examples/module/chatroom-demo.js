// { "framework": "Weex"} 

!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=600)}({242:function(e,t){e.exports={input:{fontSize:40,height:80,width:500,marginBottom:40,borderWidth:2,borderStyle:"solid",borderColor:"rgb(162,217,192)"},button:{fontSize:36,width:150,height:80,textAlign:"center",paddingTop:15,paddingBottom:15,borderWidth:2,borderStyle:"solid",marginRight:20,marginLeft:20,borderColor:"rgb(162,217,192)",backgroundColor:"#00BFFF",color:"#FFFFFF",fontWeight:"900",boxShadow:"1 1px 8px rgba(205, 155, 29, 0.85)","backgroundColor:active":"#1E90FF","boxShadow:active":"1 4px 6px rgba(255, 99, 71, 0.85)"},container:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"column",borderTopStyle:"solid",borderTopWidth:2,borderTopColor:"#DFDFDF"},list:{flex:1,width:750,justifyContent:"center",alignItems:"center",flexDirection:"column",borderTopStyle:"solid",borderTopWidth:2,borderTopColor:"#DFDFDF"},item:{justifyContent:"center",height:60,padding:20,marginTop:5},"item-title":{fontSize:30,height:60,paddingTop:10,paddingRight:20,paddingLeft:20}}},305:function(e,t){e.exports={type:"div",classList:["container"],children:[{type:"list",classList:["list"],attr:{loadmore:"loadmore",loadmoreoffset:"500"},children:[{type:"cell",append:"tree",repeat:{expression:function(){return this.rows},value:"row"},children:[{type:"div",classList:["item"],children:[{type:"text",classList:["item-title"],style:{textAlign:function(){return this.row.align},backgroundColor:function(){return this.row.bg}},attr:{value:function(){return this.row.message}}}]}]},{type:"cell",append:"tree",children:[{type:"text",id:"cellfoot",style:{marginBottom:40}}]}]},{type:"div",style:{flexDirection:"row",justifyContent:"center"},children:[{type:"input",attr:{type:"text",placeholder:"请输入聊天信息",autofocus:"false",value:""},classList:["input"],events:{change:"onchange",input:"oninput"},id:"input"},{type:"text",classList:["button"],events:{click:"send"},attr:{value:"发送"}}]},{type:"text",id:"foot",style:{color:"#000000",height:40}}]}},377:function(e,t){e.exports=function(e,t,n){"use strict";var o=n("@weex-module/dom"),i=n("@weex-module/webSocket");e.exports={data:function(){return{rows:[],names:["A","B","C","D","E","F","H","G"],connectinfo:"",sendinfo:"",onopeninfo:"",onmessage:"",oncloseinfo:"",onerrorinfo:"",closeinfo:"",txtInput:"",info:"",message:"",align:"left",bg:"white",from_client_id:"",name:"",number:1}},methods:{ready:function(){this.connect()},connect:function(){i.WebSocket("ws://chat.workerman.net:7272/","");var e=this;e.info="connecting...",i.onopen=function(t){e.info="websocket open";var n=e.names.length,o=Math.ceil(Math.random()*n);e.name=e.names[o];var i='{"type":"login","client_name":"'+e.name+'","room_id":"1"}';e.login(i)},i.onmessage=function(t){e.onmessage=t.data;var n=JSON.parse(t.data);e.align="left",e.bg="white";var i="";"login"==n.type&&(0==e.from_client_id.length?(e.from_client_id=n.client_id,e.align="right",e.bg="#00CD00",i=e.name+" 欢迎您加入了聊天室"):(e.info="type is login",e.align="left",e.bg="white",i=n.client_name+"加入了聊天室")),e.from_client_id==n.from_client_id&&(e.align="right",e.bg="#00CD00"),n.type,"login"==n.type?e.rows.push({message:i,align:e.align,bg:e.bg}):"logout"==n.type&&e.rows.push({message:n.from_client_name+"离开了聊天室",align:e.align,bg:e.bg}),n.content&&(e.rows.push({message:n.from_client_name+":"+n.content,align:e.align,bg:e.bg}),e.rows.length>16&&o.scrollToElement(e.$el("cellfoot"),{offset:0}))},i.onerror=function(t){e.onerrorinfo=t.data},i.onclose=function(t){e.onopeninfo="",e.onerrorinfo=t.code}},login:function(e){i.send(e)},send:function(e){this.$el("input").blur();var t=this,n='{"type":"say","from_client_id":"'+t.from_client_id+'","from_client_name":"游客","to_client_id":"all","content":"'+this.txtInput+'","time":"2017-03-15 01:04:00"}';i.send(n)},oninput:function(e){this.txtInput=e.value},close:function(e){i.close()}}}}},600:function(e,t,n){var o=n(305),i=n(242),r=n(377);__weex_define__("@weex-component/dca70ee73e67e6e48a04a182d260bf83",[],function(e,t,n){r(n,t,e),t.__esModule&&t.default&&(n.exports=t.default),n.exports.template=o,n.exports.style=i}),__weex_bootstrap__("@weex-component/dca70ee73e67e6e48a04a182d260bf83",void 0,void 0)}});